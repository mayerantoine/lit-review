# =============================================================================
# LitReview Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# The .env file is gitignored and will not be committed to the repository

# =============================================================================
# OpenAI API Configuration
# =============================================================================
# Required for embeddings, relevance scoring, and text generation
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# =============================================================================
# Deployment Environment
# =============================================================================
# Controls deployment-specific defaults and behaviors
# Options: "local" (default) | "azure" | "aws"
#
# "local"  → Local development environment
# "azure"  → Azure App Service deployment (can optionally use Azure Files for persistence)
# "aws"    → AWS App Runner deployment (in-memory only, no persistent volumes)
#
# Default: "local"
DEPLOYMENT_ENV=local

# =============================================================================
# Vector Storage Configuration
# =============================================================================
# Storage mode for ChromaDB vector indices
# Options: "in_memory" (default) | "persistent"
#
# "in_memory"  → Stores indices in RAM only (lost on restart, no disk I/O)
#                Recommended for all environments - simpler, stateless, faster
#                Users re-upload their CSV per session (acceptable UX)
#
# "persistent" → Stores indices on disk (survives restarts)
#                Optional for future Azure Files integration
#                Requires persistent storage infrastructure
#
# Default: "in_memory" (recommended for all environments)
VECTOR_STORAGE_MODE=in_memory

# ChromaDB persist directory (optional override)
# Only used when VECTOR_STORAGE_MODE=persistent
# If set, this overrides the DEPLOYMENT_ENV-based default
#
# Environment-based defaults:
#   local → ./corpus-data/chroma_db
#   azure → /data/chromadb (Azure Files mount point)
#   aws   → ./corpus-data/chroma_db (unused - in-memory is default)
#
# Examples:
#   VECTOR_PERSIST_DIRECTORY=./corpus-data/chroma_db   (local)
#   VECTOR_PERSIST_DIRECTORY=/data/chromadb             (Azure Files)
#
# Uncomment to override:
# VECTOR_PERSIST_DIRECTORY=./corpus-data/chroma_db

# =============================================================================
# Deployment Scenarios
# =============================================================================

# -----------------------------------------------------------------------------
# Local Development (Recommended Configuration)
# -----------------------------------------------------------------------------
# DEPLOYMENT_ENV=local
# VECTOR_STORAGE_MODE=in_memory
#
# Why in_memory for local development?
#   - Fast startup (no index loading from disk)
#   - Clean state on each restart
#   - Easier to test different datasets
#   - Simpler debugging (no persistence side effects)

# -----------------------------------------------------------------------------
# AWS App Runner Deployment
# -----------------------------------------------------------------------------
# DEPLOYMENT_ENV=aws
# VECTOR_STORAGE_MODE=in_memory
#
# AWS App Runner notes:
#   - No persistent volumes available
#   - Must use in_memory mode
#   - Vector indices are session-based and lost on container restart
#   - Users must re-upload their CSV after restarts
#   - Stateless, auto-scaling friendly

# -----------------------------------------------------------------------------
# Azure App Service Deployment (In-Memory Mode)
# -----------------------------------------------------------------------------
# DEPLOYMENT_ENV=azure
# VECTOR_STORAGE_MODE=in_memory
#
# Recommended for Azure App Service:
#   - Simpler deployment (no Azure Files setup needed)
#   - Faster performance (no network-attached storage)
#   - Session-based, stateless
#   - Users re-upload their CSV per session

# -----------------------------------------------------------------------------
# Azure App Service Deployment (Persistent Mode - Optional)
# -----------------------------------------------------------------------------
# DEPLOYMENT_ENV=azure
# VECTOR_STORAGE_MODE=persistent
# VECTOR_PERSIST_DIRECTORY=/data/chromadb
#
# For persistent storage on Azure:
#   1. Create an Azure Storage Account
#   2. Create a File Share (e.g., "chromadb-data")
#   3. Mount the file share to /data/chromadb in the container
#   4. Set VECTOR_STORAGE_MODE=persistent
#   5. Vector indices will survive container restarts
#
# Azure Files mount configuration (in Azure Portal or ARM template):
#   - Name: chromadb
#   - Type: AzureFiles
#   - Storage account: <your-storage-account>
#   - Share name: chromadb-data
#   - Mount path: /data/chromadb
#   - Read/Write: enabled

# =============================================================================
# Additional Configuration (Optional)
# =============================================================================

# Log level (not currently used, but reserved for future use)
# LOG_LEVEL=INFO

# Session cookie configuration (not currently used, but reserved)
# SESSION_COOKIE_MAX_AGE=86400  # 24 hours in seconds
